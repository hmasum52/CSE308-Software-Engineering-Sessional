(self.webpackChunklite=self.webpackChunklite||[]).push([[9690,8916],{53003:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var l=i.createElement("path",{d:"M9 9H3v1h6v6h1v-6h6V9h-6V3H9v6z",fillRule:"evenodd"});const o=function(e){return i.createElement("svg",a({width:19,height:19},e),l)}},98913:(e,n,t)=>{var i=t(22545),a=t(54290),l=t(40554),o=4294967295,r=Math.min;e.exports=function(e,n){if((e=l(e))<1||e>9007199254740991)return[];var t=o,d=r(e,o);n=a(n),e-=o;for(var c=i(d,n);++t<e;)n(t);return c}},6862:(e,n,t)=>{"use strict";t.d(n,{i:()=>i});var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnreadNotificationCount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notificationStatus"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unreadNotificationCount"}}]}}]}}]}},33734:(e,n,t)=>{"use strict";t.d(n,{I1:()=>R,n6:()=>I,tD:()=>_});var i=t(67294),a=t(5977),l=t(64718),o=t(6862),r=t(93310),d=t(77355),c=t(14646),u=t(92661),m=t(14420),s=function(e){return{backgroundColor:e.accentColor.border.normal,borderRadius:"50%",border:"".concat(e.borderWidthThick,"px solid ").concat(e.backgroundColor),position:"absolute",top:"-3px",right:"-3px",height:"14px",width:"14px"}},p=function(e){return{fill:e.baseColor.fill.lighter}},v=function(){var e,n=(0,c.I)(),t=(0,u.qt)("ShowYourNotifications",{}),a=(0,l.a)(o.i,{ssr:!1}).data,v=!(null==a||null===(e=a.notificationStatus)||void 0===e||!e.unreadNotificationCount);return i.createElement(r.r,{href:t},i.createElement(d.x,{border:"BASE_LIGHTER",borderRadius:"99em",padding:"5px",position:"relative"},v&&i.createElement("div",{className:n(s)}),i.createElement(m.Z,{className:n(p)})))},g=t(10974),k=t(77520),f=t(25885),x=t(33916),h=t(6443),E=t(26350),S=t(47230),b=t(87691),y=t(29746),N=t(60671),F=t(43487),w=t(77241),C=t(50458),R=56,I=(0,y.a)(R,0),_=function(e){var n=e.inline,t=e.loading,l=void 0!==t&&t,o=(0,F.v9)((function(e){return e.config.authDomain})),c=(0,a.TH)(),m=(0,u.$B)(c.pathname),s=m?(0,C.mrd)(m):"",p=null==m?void 0:m.route.name,y="ShowHome"===p,R=(0,h.H)(),_=R.loading,T=R.value,P=!_&&!!T,A=null==m?void 0:m.params.collectionSlug,M=(0,u.k6)().type,D=(0,F.v9)((function(e){return e.navigation.hostname})),B=M===N.Cr.COLLECTION?D:null,O=i.createElement(i.Fragment,null,i.createElement(d.x,{display:"flex",alignItems:"center"},i.createElement(g.N,{removeSpacing:!0}),i.createElement(x.a,{postId:s,collectionSlug:A,collectionHostname:B}),l?null:i.createElement(i.Fragment,null,!P&&i.createElement(d.x,{display:"flex",alignItems:"center"},i.createElement(d.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"none"}},i.createElement(b.F,{scale:"M",color:"ACCENT"},i.createElement(E.R,{pageSource:(0,k.x)(p,"login"),operation:"login",susiEntry:y?"lo_home_nav":"nav_reg"},"Sign In"))),i.createElement(d.x,{flexGrow:"1",flexShrink:"0",marginLeft:"16px"},i.createElement(E.R,{pageSource:(0,k.x)(p,"register"),operation:"register",susiEntry:y?"lo_home_nav":"nav_reg"},i.createElement(S.z,{size:"REGULAR",buttonStyle:"BRAND",width:"100%"},"Get started")))),i.createElement(d.x,{marginRight:"12px"}),!n&&y&&i.createElement(v,null))));return i.createElement(i.Fragment,null,i.createElement(d.x,{position:n?"static":"fixed",top:"0",left:"0",right:"0",backgroundColor:"BACKGROUND",zIndex:w.ZP.metabar,display:"flex",justifyContent:"space-between",height:I,alignItems:"center",padding:"0 24px",boxShadow:n?void 0:"0px -2px 10px rgba(0, 0, 0, 0.15)"},i.createElement(r.r,{href:(0,C.cWJ)(o),"aria-label":"Homepage",onClick:y?function(){return window.location.reload()}:void 0},i.createElement(f.YR,null)),O),i.createElement(d.x,{height:I}))}},21767:(e,n,t)=>{"use strict";t.r(n),t.d(n,{MainContent:()=>Bn,useLoader:()=>An});var i=t(63038),a=t.n(i),l=t(64718),o=t(67294),r=t(60672),d=t(28069),c=t(38194),u=t(68356),m=t.n(u),s=t(50742),p=m()({loading:function(){return null},loader:function(){return t.e(9128).then(t.bind(t,50881))},modules:["./RedeemGiftMembershipModal"],webpack:function(){return[50881]},render:(0,s.n)("RedeemGiftMembershipModal")}),v=t(98107),g=t(25735),k=t(77355),f=t(8431),x=t(93310),h=t(92661);function E(){return(E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var S=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 0H4v4H0v2h4v4h2V6h4V4H6V0z"});const b=function(e){return o.createElement("svg",E({width:10,height:10,viewBox:"0 0 10 10"},e),S)};var y=function(){var e=(0,h.qt)("ShowFollows",{entityName:"suggestions"});return o.createElement(x.r,{href:e},o.createElement(k.x,{display:"flex",alignItems:"center"},o.createElement(k.x,{display:"flex",padding:"12px",marginRight:"8px",backgroundColor:"BASE_NORMAL",borderRadius:"100px"},o.createElement(b,null)),o.createElement("span",null,"Keep up with the latest in any topic")))},N=t(72885),F=t(66411),w=t(14646),C=t(97),R=t(4599),I=function(){return{display:"flex",alignItems:"flex-start",overflowX:"scroll",height:"60px",padding:"2px"}},_={xs:"0",sm:"0",md:"100px",lg:"100px",xl:"100px"},T=function(e){var n=e.loading,t=e.topics,i=(0,w.I)(),l=o.useRef(null),r=o.useState(!1),c=a()(r,2),u=c[0],m=c[1],s=o.useState(0),p=a()(s,2),v=p[0],g=p[1],x=v>0,h=o.useContext(d.pV).loading,E=n||h;return o.useEffect((function(){if(l.current){var e=l.current.scrollWidth-(l.current.clientWidth+l.current.scrollLeft);m(e>0)}}),[E,v]),o.useEffect((function(){l.current&&l.current.scrollWidth>l.current.clientWidth&&m(!0)}),[E]),o.createElement(F.cW,{source:{sectionType:F.bA.YOUR_TOPICS},extendSource:!0},o.createElement(k.x,{position:"relative",height:R.o,overflow:"hidden"},o.createElement(k.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"},marginTop:"12px"},o.createElement(f.Lh,{scale:"M"},"Your Topics")),o.createElement(k.x,{position:"absolute",top:"0",left:_,width:{xs:"100%",sm:"100%",md:"100%",lg:"90%",xl:"90%"}},o.createElement("div",{ref:l,onScroll:function(e){g(e.target.scrollLeft)},className:i(I)},n||!t?o.createElement(R.q,{numPlaceholders:5,smallPillWidth:100}):o.createElement(o.Fragment,null,t.map((function(e,n){return o.createElement(N.P,{topic:e,index:n,key:"followed-topic-".concat(e.id)})}))),o.createElement(k.x,{padding:"18px"}))),u&&o.createElement(k.x,{position:"absolute",right:"0",top:"0",bottom:"0",paddingLeft:"20px",background:"linear-gradient(90deg, rgba(255, 255, 255, 0) 0px, rgb(255, 255, 255, 1) 50%)",display:"flex",alignItems:"center"},o.createElement("button",{className:i((function(){return{border:"none",padding:"0",margin:"2px",cursor:"pointer"}})),onClick:function(){l.current&&l.current.scrollBy({left:100,behavior:"smooth"})},"aria-label":"next topics"},o.createElement(C.Z,{height:"34px",width:"34px",style:{transform:"rotate(180deg"},"aria-hidden":"true"}))),x&&o.createElement(k.x,{position:"absolute",left:_,top:"0",bottom:"0",paddingRight:"20px",background:"linear-gradient(270deg, rgba(255, 255, 255, 0) 0px, rgb(255, 255, 255, 1) 50%)",display:"flex",alignItems:"center"},o.createElement("button",{className:i((function(){return{border:"none",padding:"0",margin:"2px",cursor:"pointer"}})),onClick:function(){l.current&&l.current.scrollBy({left:-100,behavior:"smooth"})},"aria-label":"previous topics"},o.createElement(C.Z,{height:"34px",width:"34px","aria-hidden":"true"})))))},P=function(e){var n,t,i,a=e.loading,l=e.viewer,r=!!(0,g.VB)({name:"enable_pills_based_feed",placeholder:!1});return a||null!=l&&null!==(n=l.followedTags)&&void 0!==n&&n.tags&&0!==(null===(t=l.followedTags)||void 0===t?void 0:t.tags.length)?o.createElement(k.x,{margin:r?"40px 0 58px":void 0},!r&&o.createElement(k.x,{paddingBottom:"16px",display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},o.createElement(f.Lh,{scale:"M"},"Your Topics")),o.createElement(T,{loading:a,topics:null==l||null===(i=l.followedTags)||void 0===i?void 0:i.tags})):o.createElement(y,null)},A=t(73298),M=t(21462),D=t(21417),B=t(96370),O=t(18627),V=t(64529),L=t(68894),U=t(5977),H=new(t(28959).Z)("page-refresh"),z="pageUnloadTime",W=o.createContext({onPageQueryCompleted:function(){return null},pageRefreshed:!1}),G=function(e){var n=e.children,i=(new Date).getTime(),l=o.useState(!!H.get(z)&&i-H.get(z)<5e3),r=a()(l,1)[0];return o.useEffect((function(){var e=function(){H.set(z,(new Date).getTime())};return t.g.window.addEventListener("beforeunload",e),function(){t.g.window.removeEventListener("beforeunload",e),H.remove(z)}}),[]),o.createElement(W.Provider,{value:{onPageQueryCompleted:function(){H.remove(z)},pageRefreshed:r}},n)},j=t(21919),q=t(6443),Z=t(43822),K=t(81978),Q=t(9935),Y=t(8126),$=t(87691),X=t(90924),J=t(75221),ee=t(43487),ne=t(17583),te=t(46696),ie=t(50458),ae=J.T3.HOMEPAGE_MEMBERSHIP_BANNER_CTA,le=function(){var e,n=(0,q.H)(),t=n.value,i=n.loading,l=o.useState(!1),r=a()(l,2),d=r[0],c=r[1],u=(0,ee.v9)((function(e){return e.config.authDomain})),m=(0,ne.s)(),s=!(null==t||!t.mediumMemberAt)||!(null==t||!t.hasPastMemberships)||(null==t?void 0:t.dismissableFlags.includes(ae)),p="xs"===m||"sm"===m,v=(0,te.W6)({miroId:"4*mk7g-r6qVlqcV5sWxuuOqQ.jpeg",width:1e3}),g=(0,j.D)(K.a,{variables:{userId:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",flag:ae}}),f=a()(g,1)[0],x=(0,o.useCallback)((function(){c(!0),f()}),[]);return i||s||d||p?null:o.createElement(B.P,{size:"app"},o.createElement(k.x,{backgroundImage:"url(".concat(v,")"),backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"cover",borderRadius:"4px",marginTop:"40px"},o.createElement(k.x,{padding:"20px",position:"relative",overflow:"hidden"},o.createElement(k.x,{display:"flex",justifyContent:"space-between",marginRight:"24px",marginBottom:"8px"},o.createElement(Y.F1,{scale:"XS"},"Get unlimited access to all of Medium for less than $1/week."),o.createElement(Q.P,{isPositionAbsolute:!0,onClick:x,size:"LARGE",iconFillColor:"#000000"})),o.createElement($.F,{scale:"S",color:"DARKER"},o.createElement(k.x,{display:"inline"},o.createElement(F.cW,{source:{name:"upgrade_membership",dimension:"homefeed_membership_cta_banner"}},o.createElement(X.M,{tag:"span"},o.createElement(Z.a,{redirectUrl:(0,ie.c5p)(u),linkStyle:"OBVIOUS",inline:!0},"Become a member"))))))))},oe=t(42140),re=t(319),de=t.n(re),ce=t(33734),ue=t(59250),me=t(87757),se=t.n(me),pe=t(48926),ve=t.n(pe),ge=t(56078),ke=t(47230);function fe(){return(fe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var xe=o.createElement("path",{d:"M12 1.14A10.86 10.86 0 1 0 22.86 12a.84.84 0 0 0-1.67 0A9.18 9.18 0 1 1 4.04 7.4a9.18 9.18 0 0 1 12.55-3.36.84.84 0 0 0 .84-1.44A10.85 10.85 0 0 0 12 1.14zm9.7 2.79a.84.84 0 0 0-.56.26c-2.93 3.07-5.76 6.38-8.64 9.43L8.38 10a.87.87 0 0 0-1.18.07.87.87 0 0 0 .07 1.19L12 15.43a.87.87 0 0 0 1.16-.06c3.11-3.26 6.12-6.81 9.18-10.02.57-.62.06-1.44-.63-1.42z",fill:"#292929"});const he=function(e){return o.createElement("svg",fe({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),xe)};var Ee=function(e){var n=e.CTAReason;return o.createElement(k.x,{padding:"30px 0",textAlign:"center"},o.createElement(k.x,{marginBottom:"24px"},o.createElement($.F,{scale:"M",color:"DARKER"},"EmptyFeed"===n?"Stories from the writers you follow will appear here.":o.createElement(Se,null))),o.createElement(ke.z,{onClick:function(){window.scrollTo(0,0)},href:(0,ie.$x3)(),buttonStyle:"STRONG"},"Browse recommended stories"))},Se=function(){return o.createElement(k.x,null,o.createElement(k.x,{marginBottom:"8px"},o.createElement(he,null)),o.createElement("p",null,"You're all caught up"))},be=t(60015),ye=t(86586),Ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowingFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followingFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HomeFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"moduleSourceEncoding"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"to"}},{kind:"Field",name:{kind:"Name",value:"from"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}}].concat(de()(ye.Cg.definitions))};function Fe(e){var n=e.items,t=e.pageSize,i=e.initialPageSize,l=e.fetchMore,r=o.useState(null!=i?i:t),d=a()(r,2),c=d[0],u=d[1];return[o.useMemo((function(){return n.slice(0,c)}),[n,c]),o.useCallback((function(){return u(c+t),n.length<c+t?l():new Promise((function(e){window.requestAnimationFrame((function(){e()}))}))}),[n,t,c,l])]}var we,Ce,Re=function(e){var n,t,i,r,d=e.initiallyRenderFullFeed,c=o.useContext(W).onPageQueryCompleted,u=(0,l.a)(Ne,{variables:{paging:{limit:5,from:"0",to:"".concat(5)}},ssr:!1,onCompleted:c}),m=u.loading,s=u.error,p=u.data,v=u.fetchMore,g=(0,ue.jM)(),f=g.mutedAuthorIds,x=g.mutedPubIds,h=g.dismissedPostIds,E=g.seeLessPostIds,S=!(null!=p&&null!==(n=p.followingFeed)&&void 0!==n&&null!==(t=n.pagingInfo)&&void 0!==t&&t.next),b=null==p?void 0:p.followingFeed,y=o.useCallback(ve()(se().mark((function e(){var n,t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null==b||null===(n=b.pagingInfo)||void 0===n?void 0:n.next){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",v({variables:{paging:{to:t.to,limit:t.limit,from:t.from}}}));case 4:case"end":return e.stop()}}),e)}))),[null==b||null===(i=b.pagingInfo)||void 0===i?void 0:i.next]),N=null!==(r=null==b?void 0:b.items.length)&&void 0!==r?r:0,w=d?Math.max(N,5):5,C=Fe({items:(null==b?void 0:b.items.filter((function(e){return"HomeFeedItem"===(null==e?void 0:e.__typename)})))||[],pageSize:5,initialPageSize:w,fetchMore:y}),R=a()(C,2),I=R[0],_=R[1];if(s)return null;if(m)return o.createElement(B.P,{size:"app"},o.createElement(A.u,null));var T=(0,ue.MA)(I,f,x,h,E);return T.length?o.createElement(k.x,null,o.createElement(be.P,{fetchMore:S?null:_},o.createElement(k.x,null,T.map((function(e,n){var t=null==e?void 0:e.post;return o.createElement(o.Fragment,{key:t.id},o.createElement(F.cW,{source:{name:"home",feedId:e.feedId||void 0,postFeedReason:e.reason||void 0,rankedModuleType:e.moduleSourceEncoding||void 0},extendSource:!0},o.createElement(ge.G,{index:n,post:t,isFirst:!n,showBylinePublisherInfo:!0,includeTopDivider:!0,showNegativeSignalMenu:!0,showNegativeSignalIcon:!1})))})))),S&&o.createElement(Ee,{CTAReason:"EndOfFeed"})):o.createElement(Ee,{CTAReason:"EmptyFeed"})},Ie=t(45578),_e=t.n(Ie),Te={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebInlineRecommendedFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"forceRank"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"webRecommendedFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}},{kind:"Argument",name:{kind:"Name",value:"forceRank"},value:{kind:"Variable",name:{kind:"Name",value:"forceRank"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HomeFeedItem_metadata"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}}]}}]}}].concat(de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"HomeFeedItem_metadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HomeFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"moduleSourceEncoding"}},{kind:"Field",name:{kind:"Name",value:"reasonString"}},{kind:"Field",name:{kind:"Name",value:"postProviderExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"topic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]),de()(ye.Cg.definitions))},Pe=function(e){var n,t,i,r=e.initiallyRenderFullFeed,c=o.useContext(W),u=c.onPageQueryCompleted,m=c.pageRefreshed,s=(0,l.a)(Te,{ssr:!1,variables:{forceRank:m,paging:{limit:5}},onCompleted:u}),p=s.loading,v=s.error,g=s.data,f=s.fetchMore,x=(0,ue.jM)(),h=x.mutedAuthorIds,E=x.mutedPubIds,S=x.dismissedPostIds,b=x.seeLessPostIds,y=null==g?void 0:g.webRecommendedFeed,N=o.useCallback(ve()(se().mark((function e(){var n,t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=null==y||null===(n=y.pagingInfo)||void 0===n?void 0:n.next)&&"0"!==t.to){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",f({variables:{paging:{to:t.to,limit:t.limit},forceRank:!1}}));case 4:case"end":return e.stop()}}),e)}))),[null==y||null===(n=y.pagingInfo)||void 0===n?void 0:n.next]),w=null!==(t=null==y?void 0:y.items.length)&&void 0!==t?t:0,C=r?Math.max(w,5):5,R=Fe({items:null!==(i=null==y?void 0:y.items)&&void 0!==i?i:[],pageSize:5,initialPageSize:C,fetchMore:N}),I=a()(R,2),_=I[0],T=I[1];if((0,d.r$)(p),p||v)return null;var P=_e()(_,(function(e){var n;return null==e||null===(n=e.post)||void 0===n?void 0:n.id})),A=(0,ue.MA)(P,h,E,S,b);return o.createElement(k.x,null,o.createElement(be.P,{fetchMore:T},o.createElement(k.x,null,A.map((function(e,n){var t=null==e?void 0:e.post;return t?o.createElement(o.Fragment,{key:t.id},o.createElement(F.cW,{source:{name:"explore",feedId:e.feedId||void 0,postFeedReason:e.reason||void 0,rankedModuleType:e.moduleSourceEncoding||void 0},extendSource:!0},o.createElement(ge.G,{index:n,post:t,isFirst:!n,highDensityPreviewReason:(null==e?void 0:e.reasonString)||void 0,showBylinePublisherInfo:!0,includeTopDivider:!0,showNegativeSignalMenu:!0}))):null})))))},Ae=t(97217),Me=t(77280),De={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebInlineTopicFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagSlug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mode"}},type:{kind:"NamedType",name:{kind:"Name",value:"TagFeedMode"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}},{kind:"Argument",name:{kind:"Name",value:"tagSlug"},value:{kind:"Variable",name:{kind:"Name",value:"tagSlug"}}},{kind:"Argument",name:{kind:"Name",value:"mode"},value:{kind:"Variable",name:{kind:"Name",value:"mode"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TagFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"moduleSourceEncoding"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}}]}}]}}].concat(de()(ye.Cg.definitions))},Be=function(e){var n,t,i,r,d=e.initiallyRenderFullFeed,c=e.tagSlug,u=o.useContext(W).onPageQueryCompleted,m=(0,Me.PM)(),s=(0,l.a)(De,{ssr:!1,variables:{tagSlug:c,mode:Ae.AH.HOT,paging:{limit:5}},onCompleted:u}),p=s.loading,v=s.error,g=s.data,f=s.fetchMore,x=(0,ue.jM)(),h=x.mutedAuthorIds,E=x.mutedPubIds,S=x.dismissedPostIds,b=x.seeLessPostIds,y=null==g?void 0:g.tagFeed,N=!(null!=y&&null!==(n=y.pagingInfo)&&void 0!==n&&n.next),w=o.useCallback(ve()(se().mark((function e(){var n,t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=null==y||null===(n=y.pagingInfo)||void 0===n?void 0:n.next)&&"0"!==t.to){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",f({variables:{paging:{to:t.to,limit:t.limit}}}));case 4:case"end":return e.stop()}}),e)}))),[null==y||null===(t=y.pagingInfo)||void 0===t?void 0:t.next,f]),C=null!==(i=null==y?void 0:y.items.length)&&void 0!==i?i:0,R=d?Math.max(C,5):5,I=Fe({items:null!==(r=null==y?void 0:y.items)&&void 0!==r?r:[],pageSize:5,initialPageSize:R,fetchMore:w}),_=a()(I,2),T=_[0],P=_[1],M=_e()(T,(function(e){var n;return null==e||null===(n=e.post)||void 0===n?void 0:n.id}));if(v)return null;if(p)return o.createElement(B.P,{size:"app"},o.createElement(A.u,null));var D=(0,ue.MA)(M,h,E,S,b);return D.length?o.createElement(k.x,null,o.createElement(be.P,{fetchMore:N?null:P},D.map((function(e,n){var t=null==e?void 0:e.post;return o.createElement(o.Fragment,{key:t.id},o.createElement(F.cW,{source:{name:"topics_v2",index:n,feedId:e.feedId||void 0,rankedModuleType:e.moduleSourceEncoding||void 0,postFeedReason:e.reason||void 0,sectionType:F.bA.HOMEPAGE_FILTERED_TAG,topicId:c},extendSource:!0},o.createElement(ge.G,{index:n,post:t,isFirst:!n,showBylinePublisherInfo:!0,includeTopDivider:!0,showNegativeSignalMenu:!0,tagSlug:c,presentationTrackerReferrerSource:m})))}))),N&&o.createElement(Ee,{CTAReason:"EndOfFeed"})):o.createElement(Ee,{CTAReason:"EmptyFeed"})};!function(e){e.Following="Following",e.Recommended="Recommended"}(we||(we={})),function(e){e.DefaultFeed="feed",e.Tag="tag"}(Ce||(Ce={}));var Oe=function(e){var n,t=e.activeFeed,i=e.initiallyRenderFullFeed,a=!!(0,g.VB)({name:"enable_pills_based_feed",placeholder:!1});return n=t===we.Following?o.createElement(Re,{initiallyRenderFullFeed:i}):t===we.Recommended?o.createElement(Pe,{initiallyRenderFullFeed:i}):o.createElement(Be,{initiallyRenderFullFeed:i,tagSlug:t}),o.createElement(ue.Zh,null,o.createElement(k.x,{paddingTop:a?"50px":"40px"},n))},Ve=t(42139),Le=t(62685),Ue=t(77241),He=t(78870),ze=t(39202),We=t(18122),Ge=t(53003),je=function(e){return{display:"inline-block",padding:"0 2px",borderRadius:"50%",":hover":{backgroundColor:e.baseColor.background.normal}}},qe=function(e){return{fill:e.baseColor.fill.lighter,verticalAlign:"bottom",":hover":{fill:e.baseColor.fill.darker}}},Ze={border:0,padding:0,color:"inherit",fontSize:"inherit",fontFamily:"inherit",cursor:"pointer"},Ke=function(){var e=(0,w.I)();return o.createElement("span",{className:e(je)},o.createElement(Ge.Z,{className:e(qe)}))},Qe=function(e){var n=e.id,t=e.displayTitle,i=e.isTagFeed,a=(0,O.Av)(),l=(0,w.I)(),r=(0,F.pK)(),d=(0,ee.v9)((function(e){return e.navigation.referrer})),c=(0,ee.v9)((function(e){return e.navigation.currentLocation})),u=(0,We.g)({onPresentedFn:function(){var e={referrer:d||c,source:r};a.event("tab.presented",{tabName:n},e),i&&a.event("tag.presented",{tagSlug:n},e)},intersectionThreshold:.8}),m=o.useCallback((function(){window.scrollTo({top:0,behavior:"smooth"});var e={referrer:d||c,referrerSource:r};a.event("tab.viewed",{tabName:n},e),i&&a.event("tag.viewed",{tagSlug:n},e)}),[a,i,n,r,d,c]);return o.createElement("button",{onClick:m,ref:u,className:l(Ze)},t)},Ye=function(e){return o.createElement(Le.o,{flag:Ae.T3.HOMEPAGE_TOPIC_FILTERING_TOOLTIP,text:"New: Stories from writers and publications you explicitly follow are in the Following tab.",dismissText:"Okay, got it",targetDistance:15,autoDismissFlag:!0},e)},$e=function(e){var n,t,i=e.viewer,a=e.activeFeed,l=(0,ee.v9)((function(e){return e.config.authDomain})),r=!!(0,g.VB)({name:"enable_pills_based_feed",placeholder:!1}),d=null!==(n=null==i||null===(t=i.followedTags)||void 0===t?void 0:t.tags.filter((function(e){return(0,ze.b)(e)&&e.id&&e.displayTitle})))&&void 0!==n?n:[],c=o.useMemo((function(){var e=[{text:o.createElement(Qe,{id:"forYou",displayTitle:"For you"}),isActive:a===we.Recommended,href:(0,ie.$x3)()},{text:o.createElement(Qe,{id:"following",displayTitle:"Following"}),isActive:a===we.Following,href:(0,He.Rk)((0,ie.$x3)(),{feed:"following"}),wrapper:r?Ye:void 0}];if(r){var n={text:o.createElement(Ke,null),href:(0,He.Rk)((0,ie.wnG)(l),{},"suggested-topics"),marginRight:"24px"},t=d.map((function(e){return{text:o.createElement(Qe,{id:e.id,displayTitle:e.displayTitle,isTagFeed:!0}),isActive:a===e.id,href:(0,He.Rk)((0,ie.$x3)(),{tag:e.id})}}));return[n].concat(e,de()(t))}return e}),[d,r,a]);return o.createElement(o.Fragment,null,r&&o.createElement(k.x,{paddingTop:{xl:"26px",lg:"10px",md:"10px",sm:"10px",xs:"10px"}}),o.createElement(k.x,{position:r?"sticky":void 0,top:r?{xl:"0",lg:ce.n6,md:ce.n6,sm:ce.n6,xs:ce.n6}:void 0,backgroundColor:"BACKGROUND",zIndex:Ue.ZP.metabar-1},o.createElement(B.P,{size:"app"},o.createElement(k.x,{height:r?"16px":void 0}),o.createElement(F.cW,{source:{sectionType:F.bA.HOMEPAGE_FILTERED_TAG},extendSource:!0},o.createElement(Ve.R,{items:c})))))},Xe=function(e){var n,t,i=e.viewer,a=e.loading,l=(n=(0,U.k6)(),t=(0,oe.dD)(n.location.search),o.useMemo((function(){var e=t[Ce.DefaultFeed],n=t[Ce.Tag];return"following"===e?we.Following:n||we.Recommended}),[t])),r=function(e){var n=(0,U.k6)(),t=o.useRef("POP"===n.action),i=o.useRef(e);return e!==i.current&&(i.current=e,t.current=!1),t.current}(l),d=!!(0,g.VB)({name:"enable_pills_based_feed",placeholder:!1});return o.createElement(G,null,d&&o.createElement(le,null),!a&&o.createElement($e,{viewer:i,activeFeed:l}),!d&&o.createElement(le,null),o.createElement(Oe,{activeFeed:l,initiallyRenderFullFeed:r}))},Je=t(77136),en=t(54341),nn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityTooltip_entity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RankedModulePublishingEntity"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionTooltip_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}}]}}].concat(de()(Je.g.definitions),de()(en.O.definitions))},tn=t(16541),an=t(84683),ln=t(27048),on={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityAvatar_item"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RankedModuleUpdatedFollowedEntity"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatesCount"}},{kind:"Field",name:{kind:"Name",value:"updatesCountText"}}]}}].concat(de()(an.d.definitions),de()(ln.W.definitions))},rn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityCarousel_item"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RankedModuleUpdatedFollowedEntity"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityTooltip_entity"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPresentationRankedModulePublishingTracker_entity"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityAvatar_item"}}]}}].concat(de()(nn.definitions),de()(tn.u.definitions),de()(on.definitions))},dn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyUpdatedEntities_recentlyUpdatedEntitiesRankedModule"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RecentlyUpdatedEntitiesRankedModule"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityCarousel_item"}}]}},{kind:"Field",name:{kind:"Name",value:"metadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityCarousel_metadata"}}]}}]}}].concat(de()(rn.definitions),de()([{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityCarousel_metadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RankedModuleMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"sourceEncoding"}}]}}]))},cn=t(48320),un={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicsCarousel_topic"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TopicPill_tag"}}]}}].concat(de()(cn.B.definitions))},mn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FollowedTopics_viewer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"followedTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicsCarousel_topic"}}]}}]}}]}}].concat(de()(un.definitions))},sn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HomeMainContentHeaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestFromFollowingModule"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyUpdatedEntities_recentlyUpdatedEntitiesRankedModule"}}]}},{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FollowedTopics_viewer"}}]}}]}}].concat(de()(dn.definitions),de()(mn.definitions))},pn=t(85587),vn=t(98913),gn=t.n(vn),kn=t(71652),fn=t(17193),xn=t(14199),hn={borderRadius:"50%",width:"28px",height:"28px",paddingTop:"2px",position:"absolute",top:"-12px",right:"-12px",background:"#000000",color:"#ffffff",textAlign:"center",border:"2px solid white"},En={display:"inline-block",position:"relative"},Sn=function(e){var n=e.item,t=(0,w.I)(),i=(0,xn.n)({name:"detail",color:"DARKER",scale:"S"}),a=n.entity,l=n.updatesCount,r=n.updatesCountText;return a?o.createElement("div",{className:t(En)},"User"===a.__typename?o.createElement(fn.Yt,{user:a,scale:"M",link:!0}):o.createElement(kn.v,{collection:a,size:fn.wC.M,link:!0}),l>0&&o.createElement("div",{className:t([i,hn])},r)):null},bn=t(75210),yn=t(28695),Nn=t(26244),Fn=(0,o.memo)((function(e){var n=e.children,t=e.entity,i=e.isVisible,a=e.setHoveredEntityId,l=(0,ne.s)(),r="xs"===l||"sm"===l,d=(0,o.useCallback)((function(){t.id&&a(t.id)}),[t.id]),c=(0,o.useCallback)((function(){return"User"===t.__typename?o.createElement(yn.K,{user:t}):"Collection"===t.__typename?o.createElement(bn.L,{collection:t,buttonSize:"COMPACT",buttonStyleFn:function(e){return e?"OBVIOUS":"STRONG"}}):null}),[t]);return r?o.createElement(o.Fragment,null,n):o.createElement(Nn.$,{isVisible:i,onMouseEnter:d,placement:"top",popoverRenderFn:c,targetDistance:15,role:"tooltip"},n)})),wn=function(){return{display:"flex",alignItems:"flex-start",overflow:"scroll",height:"110px",padding:"14px 2px 2px","::-webkit-scrollbar":{display:"none"},"scrollbar-width":"none","-ms-overflow-style":"none"}},Cn=function(e){var n=e.items,t=e.metadata,i=(0,w.I)(),l=o.useRef(null),r=o.useState(!1),c=a()(r,2),u=c[0],m=c[1],s=o.useState(0),p=a()(s,2),v=p[0],g=p[1],f=v>0,x=o.useState(),h=a()(x,2),E=h[0],S=h[1],b=o.useContext(d.pV).loading;return o.useEffect((function(){if(l.current){var e=l.current.scrollWidth-(l.current.clientWidth+l.current.scrollLeft);m(e>0)}}),[b,v]),o.useEffect((function(){l.current&&l.current.scrollWidth>l.current.clientWidth&&m(!0)}),[b]),o.createElement(k.x,{position:"relative",height:"85px"},o.createElement(k.x,{position:"absolute",top:"0",left:"0",width:"100%"},o.createElement("div",{ref:l,onScroll:function(e){E&&S(void 0),g(e.target.scrollLeft)},className:i(wn)},n.map((function(e,n){var i,a;return null!=e&&e.entity?o.createElement(k.x,{display:"flex",key:"recent-entity-".concat(null===(i=e.entity)||void 0===i?void 0:i.id),paddingRight:"18px"},o.createElement(F.cW,{source:{name:"home",index:n,feedId:null==t?void 0:t.feedId,rankedModuleType:(null==t?void 0:t.sourceEncoding)||void 0}},o.createElement(pn.N,{entity:e.entity},o.createElement(Fn,{entity:e.entity,isVisible:(null==e||null===(a=e.entity)||void 0===a?void 0:a.id)===E,setHoveredEntityId:S},o.createElement(Sn,{item:e}))))):null})),o.createElement(k.x,{padding:"18px"}))),u&&o.createElement(k.x,{position:"absolute",right:"0",top:"0",bottom:"0",paddingLeft:"20px",background:"linear-gradient(90deg, rgba(255, 255, 255, 0) 0px, rgb(255, 255, 255, 1) 50%)",display:"flex",alignItems:"center"},o.createElement("button",{className:i((function(){return{border:"none",padding:"0",margin:"2px",cursor:"pointer"}})),onClick:function(){l.current&&l.current.scrollBy({left:100,behavior:"smooth"})},"aria-label":"next following"},o.createElement(C.Z,{height:"34px",width:"34px",style:{transform:"rotate(180deg"},"aria-hidden":"true"}))),f&&o.createElement(k.x,{position:"absolute",left:"0",top:"0",bottom:"0",paddingRight:"20px",background:"linear-gradient(270deg, rgba(255, 255, 255, 0) 0px, rgb(255, 255, 255, 1) 50%)",display:"flex",alignItems:"center"},o.createElement("button",{className:i((function(){return{border:"none",padding:"0",margin:"2px",cursor:"pointer"}})),onClick:function(){l.current&&l.current.scrollBy({left:-100,behavior:"smooth"})},"aria-label":"previous following"},o.createElement(C.Z,{height:"34px",width:"34px","aria-hidden":"true"}))))},Rn=t(45932),In=function(){var e=(0,w.I)(),n=(0,Rn.P)();return o.createElement("div",{className:e((function(){return n}))},o.createElement(k.x,{width:"64px",height:"64px",paddingBottom:"16px",backgroundColor:"BASE_NORMAL"}))},_n=function(e){var n=e.numPlaceholders,t=void 0===n?1:n;return o.createElement(o.Fragment,null,gn()(t,(function(e){return o.createElement(In,{key:"entity-placeholder-".concat(e)})})))},Tn=function(){return o.createElement(k.x,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",maxHeight:"64px",overflow:"hidden",sm:{paddingBottom:"32px"},marginBottom:"24px"},o.createElement(_n,{numPlaceholders:8}))},Pn=function(e){var n,t,i=e.loading,a=e.recentlyUpdatedEntitiesRankedModule;if(i)return o.createElement(Tn,null);var l=null!==(n=null==a?void 0:a.items)&&void 0!==n?n:[],r=null!==(t=null==a?void 0:a.metadata)&&void 0!==t?t:null;return 0===l.length?null:o.createElement(k.x,{paddingBottom:"24px"},o.createElement(Cn,{items:l,metadata:r}))},An=function(){return(0,l.a)(sn,{ssr:!1})},Mn=function(){return null},Dn=function(e){var n=e.data,t=e.error,i=e.loading;(0,r.e)({data:{pageType:"li_homepage"},show:!0});var l=(0,L.O)(!1),u=a()(l,3),m=u[0],s=u[1],g=u[2];(0,c.m)(v.U,s);var f=(0,O.Av)();(0,o.useEffect)((function(){f.event("homepage.viewed",{})}),[]);var x=(0,V.TW)();return t&&x.reportOnce(t),o.createElement(F.cW,{source:{name:"home"},extendSource:!0},o.createElement(d.ly,{loadingOverride:i,placeholder:o.createElement(B.P,{size:"app"},o.createElement(k.x,{paddingTop:"80px"}),o.createElement(A.u,null))},o.createElement(B.P,{size:"app"},o.createElement(D.b,{name:"enable_pills_based_feed",placeholder:Mn},(function(e){return e?null:o.createElement(o.Fragment,null,o.createElement(k.x,{marginTop:{xs:"24px",sm:"24px",md:"24px",lg:"24px",xl:"0"}},o.createElement(M.s,null)),o.createElement(k.x,{padding:"40px 0 24px",sm:{padding:"24px 0"}},o.createElement(P,{loading:i,viewer:null==n?void 0:n.viewer})),o.createElement(Pn,{loading:i,recentlyUpdatedEntitiesRankedModule:null==n?void 0:n.latestFromFollowingModule}))}))),o.createElement(Xe,{viewer:null==n?void 0:n.viewer,loading:i}),o.createElement(p,{isDialogVisible:m,hide:g})))},Bn=(0,o.memo)(Dn)},60672:(e,n,t)=>{"use strict";t.d(n,{e:()=>s});var i=t(67294),a=t(27517),l=t(18702),o=t(25550),r=t(6443),d=t(98067),c=t(77280),u=t(43487),m=t(55765),s=function(e){var n=e.data,t=void 0===n?{}:n,s=e.isBlocked,p=void 0!==s&&s,v=e.loading,g=e.show,k=t.canonicalUrl,f=t.collectionViewerEdge,x=t.creatorViewerEdge,h=t.meteringInfo,E=t.pageType,S=t.post,b=t.profileName,y=t.profilePhoto,N=t.profileUsername,F=t.topicViewerEdge,w=(0,a.I0)(),C=(0,o.r)(),R=C.loading,I=C.viewerId,_=(0,m.P)(),T=_.loading,P=_.inAppBrowser,A=(0,r.H)(),M=A.loading,D=A.value,B=(0,u.v9)((function(e){return e.navigation.referrer})),O=(0,c.PM)();(0,i.useEffect)((function(){if(!(v||M||R||!I||T)){var e=(0,l.RD)({collectionViewerEdge:f,creatorViewerEdge:x,currentUserId:I,inAppBrowser:P,meteringInfo:h,page_type:E,post:S,profile_name:b,profile_photo:y,profile_username:N,referrer:B,referrerSource:O,viewer:D,topicViewerEdge:F});return k&&(e.data.$canonical_url=k),(0,l.Pu)(e),w((0,d.aj)(e)),g&&(w((0,d.QZ)()),w((0,d.Dl)(p))),function(){w((0,d.Uo)())}}}),[v,M,R,I,T])}},38194:(e,n,t)=>{"use strict";t.d(n,{m:()=>l,M:()=>o});var i=t(67294),a=t(5977);function l(e,n){var t=(0,a.TH)();i.useEffect((function(){t.hash===e&&n()}),[t,n,e])}function o(e){return{setHash:i.useCallback((function(){window.location.hash=e}),[e]),removeHash:i.useCallback((function(){window.history.replaceState(null,""," ")}),[])}}},81360:(e,n,t)=>{"use strict";t.d(n,{J:()=>g});var i=t(63038),a=t.n(i),l=t(23279),o=t.n(l),r=t(67294),d=t(77355),c=t(14646),u=t(31889),m=t(34135),s=t(97),p=t(87879),v=function(){return{display:"flex",alignItems:"center",overflowX:"scroll",overflowY:"hidden",padding:"2px 0","::-webkit-scrollbar":{width:0,background:"transparent"}}},g=function(e){var n=e.children,t=e.childrenWidth,i=(0,c.I)(),l=(0,r.useState)(!1),d=a()(l,2),u=d[0],s=d[1],p=(0,r.useState)(!1),g=a()(p,2),k=g[0],x=g[1],h=(0,r.useState)(),E=a()(h,2),S=E[0],b=E[1],y=(0,r.useCallback)((function(e){e&&b(e)}),[]),N=(0,r.useCallback)((function(){S&&S.scrollWidth>S.clientWidth&&s(!0)}),[S]);(0,r.useEffect)((function(){return m.V6.on("resize",N),N(),function(){return m.V6.off("resize",N)}}),[N]);var F=(0,r.useCallback)((function(e){S&&S.scrollBy({left:e,behavior:"smooth"})}),[S]),w=(0,r.useCallback)((function(){F(100)}),[F]),C=(0,r.useCallback)((function(){F(-100)}),[F]),R=(0,r.useCallback)(o()((function(){if(S){var e=S.scrollWidth-(S.clientWidth+S.scrollLeft);s(e>0),x(S.scrollLeft>0)}}),100),[S]);return(0,r.useEffect)((function(){R()}),[R]),(0,r.useEffect)((function(){S&&t&&s(t>S.clientWidth)}),[t,null==S?void 0:S.clientWidth]),r.createElement("div",{ref:y,onScroll:R,className:i(v)},n,u&&r.createElement(f,{onClick:w,isRight:!0}),k&&r.createElement(f,{onClick:C}))},k={border:"none",padding:"0",margin:"2px",cursor:"pointer"},f=function(e){var n=e.isRight,t=e.onClick,i=(0,u.F)(),a=(0,c.I)(),l=i.backgroundColor,o=(0,p.bv)(l,0);return r.createElement(d.x,{position:"absolute",right:n?"0":void 0,left:n?void 0:"0",top:"0",bottom:"12px",paddingLeft:n?"42px":void 0,paddingRight:n?void 0:"42px",background:"linear-gradient(".concat(n?90:270,"deg, ").concat(o," 0px, ").concat(l," 50%)"),display:"flex",alignItems:"center"},r.createElement("button",{className:a(k),onClick:t,"aria-label":n?"next sections":"previous sections"},r.createElement(s.Z,{height:"26px",width:"26px",style:n?{transform:"rotate(180deg)"}:void 0,"aria-hidden":"true"})))}},42139:(e,n,t)=>{"use strict";t.d(n,{R:()=>s});var i=t(67294),a=t(77355),l=t(66411),o=t(14646),r=t(31889),d=t(63038),c=t.n(d),u=t(81360),m=t(22066),s=function(e){var n,t,d,s,p,v=e.items,g=e.isSearchPage,k=(0,o.I)(),f=(0,r.F)(),x="scroller-items",h=(n="#".concat(x),t=i.useState(),d=c()(t,2),s=d[0],p=d[1],i.useEffect((function(){var e=new ResizeObserver((function(e){var n,t,i=null===(n=e[0])||void 0===n||null===(t=n.contentRect)||void 0===t?void 0:t.width;i&&p(i)})),t=document.querySelector(n);return t&&e.observe(t),function(){e.disconnect()}}),[n]),{width:s}).width;return i.createElement(a.x,{position:"relative",height:"39px",boxShadow:"inset 0 -1px 0 ".concat(f.baseColor.border.lighter),overflow:"hidden"},i.createElement(u.J,{childrenWidth:h},i.createElement("div",{id:x,className:k({display:"flex"})},v.map((function(e,n){var t=n===v.length-1?"50px":e.marginRight,a=e.text,o=e.onClick,r=e.isActive,d=e.target,c=e.tabIndex,u=e.ariaControls,s=e.href,p=e.wrapper;return i.createElement(l.cW,{source:{index:n},extendSource:!0,key:"page-navigation-tab-".concat(a,"-").concat(n)},i.createElement(m.v,{text:a,href:s,onClick:o,isActive:r,target:d,tabIndex:c,ariaControls:u,marginRight:t,isSearchPage:g,wrapper:p}))})))))}},22066:(e,n,t)=>{"use strict";t.d(n,{v:()=>v});var i=t(67294),a=t(5977),l=t(77355),o=t(93310),r=t(87691),d=t(14646),c=t(43487),u=function(e){var n=e.wrapper,t=e.children;return n?n(t):i.createElement(i.Fragment,null,t)},m=t(75101),s=t(42140),p=function(e){return{":hover":{color:"".concat(e.baseColor.fill.darker," !important")}}},v=function(e){var n=(0,d.I)(),t=(0,m.G)(),v=e.target,g=e.text,k=e.isSearchPage,f=e.marginRight,x=void 0===f?"32px":f,h="href"in e?e.href:void 0,E="onClick"in e?e.onClick:void 0,S="tabIndex"in e?e.tabIndex:void 0,b="ariaControls"in e?e.ariaControls:void 0,y="isActive"in e?e.isActive:t(h||""),N=(0,c.v9)((function(e){return e.navigation.currentLocation})),F=(0,a.TH)(),w=(0,s.dD)(F.search).q,C="".concat(N,"?q=").concat(w),R=k?h===C:y||t(null!=h?h:"");return i.createElement(l.x,{marginRight:x,paddingBottom:"16px",minWidth:"max-content",borderBottom:R?"BASE_DARKER":"BASE_LIGHTER"},i.createElement(u,{wrapper:e.wrapper},i.createElement(o.r,{role:"tab",onClick:E,href:h,target:v,tabIndex:S,"aria-controls":b,className:n({border:"none",cursor:"pointer",padding:"0px"})},i.createElement(r.F,{scale:"M",color:R?"DARKER":"LIGHTER"},i.createElement("span",{className:n(p)},g)))))}},10974:(e,n,t)=>{"use strict";t.d(n,{N:()=>p});var i=t(67294),a=t(6443),l=t(77355),o=t(47230),r=t(21755),d=t(18627),c=t(66411),u=t(90924),m=t(92661),s=t(17583),p=function(e){var n=e.removeSpacing,t=void 0!==n&&n,p=(0,a.H)(),v=p.value,g=p.loading,k=(0,d.Av)(),f=(0,c.Lk)(),x=function(){k.event("upsell.clicked",{dimension:null==f?void 0:f.dimension,locationId:null==f?void 0:f.dimension})},h=(0,m.qt)("ShowPay",{}),E=(0,s.s)()!==r.j.xs;return v||g?null!=v&&v.mediumMemberAt?null:i.createElement(l.x,{paddingTop:t?"0px":"40px",textAlign:"center"},i.createElement(c.cW,{extendSource:!0,source:{name:"upgrade_membership",dimension:"nav_full"}},i.createElement(u.M,null,!E||null!=v&&v.hasPastMemberships?i.createElement(o.z,{href:h,buttonStyle:"BRAND",loading:g,width:"100%",onClick:x},null!=v&&v.hasPastMemberships?"Resume Membership":"Upgrade"):i.createElement(o.z,{href:h,buttonStyle:"BRAND",loading:g,width:"100%",onClick:x},"Get unlimited access")))):null}},19308:(e,n,t)=>{"use strict";t.d(n,{b:()=>r,I:()=>d});var i=t(319),a=t.n(i),l=t(68216),o=t(98007),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat(a()(l.nf.definitions),a()(o.Os.definitions))}},82405:(e,n,t)=>{"use strict";t.d(n,{b3:()=>_,Iq:()=>T,Fp:()=>P});var i=t(63038),a=t.n(i),l=t(28655),o=t.n(l),r=t(92471),d=t(21919),c=t(67294),u=t(5977),m=t(77520),s=t(74928),p=t(25550),v=t(25267),g=t(67701),k=t(26350),f=t(98007),x=t(50563),h=t(93310),E=t(77355),S=t(47230),b=t(18627),y=t(66411),N=t(92661),F=t(43487),w=t(50458),C=t(68216);function R(){var e=o()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    name\n    slug\n    ...collectionUrl_collection\n    ...SusiClickable_collection\n  }\n  ","\n  ","\n"]);return R=function(){return e},e}function I(){var e=o()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return I=function(){return e},e}var _=(0,r.Ps)(I()),T=(0,r.Ps)(R(),C.nf,f.Os),P=function(e){var n,t=e.buttonSize,i=e.buttonStyleFn,l=e.collection,o=e.post,r=e.simpleLink,f=e.susiEntry,w=void 0===f?"follow_card":f,C=e.preventParentClick,R=(0,F.v9)((function(e){return e.config.authDomain})),I=(0,p.r)().viewerId,_=(0,b.Av)(),T=(0,y.pK)(),P=(0,u.TH)(),M=(0,N.$B)(P.pathname),D=null==M||null===(n=M.route)||void 0===n?void 0:n.name,B=(0,g.gY)(l),O=B.viewerEdge,V=B.loading,L=function(e,n){var t=(0,d.D)(s.e),i=a()(t,1)[0];return c.useCallback((function(){return i({variables:{id:e},optimisticResponse:{followCollection:{__typename:"Collection",id:e,name:"",viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e,"-viewerId:").concat(n),isFollowing:!0}}},update:function(t){t.modify({id:"User:".concat(n),fields:{missionControl:(0,x.im)("followedCollections",!0),followingCollectionConnection:(0,x.Hc)(e)}})}})}),[e])}(l.id,I),U=function(e,n){var t=(0,d.D)(s.X),i=a()(t,1)[0];return c.useCallback((function(){return i({variables:{id:e},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e,name:"",viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,x.im)("followedCollections",!1)}})}})}),[e])}(l.id,I),H=c.useCallback((function(e){C&&e.preventDefault(),null!=O&&O.isFollowing||(_.event("collection.followed",{collectionId:l.id,followSource:T}),L())}),[l,O,C,T]),z=c.useCallback((function(e){C&&e.preventDefault(),_.event("collection.unfollowed",{collectionId:l.id,followSource:T}),U()}),[C,T]),W=!(null==O||!O.isFollowing),G=i?i(!!W):W?"OBVIOUS":"STRONG";return r?c.createElement(h.r,{onClick:W?z:H},c.createElement(E.x,{display:"flex",flexDirection:"row"},W?"Unfollow publication":"Follow publication")):c.createElement(v.I,null,(function(e){return e?c.createElement(S.z,{size:t,onClick:W?U:L,buttonStyle:G,loading:V},W?"Following":"Follow"):c.createElement(k.R,{collection:l,buttonStyle:W?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:A(R,l,o)||"",susiEntry:w,pageSource:(0,m.x)(D,"register")},W?"Following":"Follow")}))},A=function(e,n,t){return n.slug&&(t&&t.id?(0,w.TAb)(e,n.slug,t.id):(0,w.LlO)(e,n.slug))}},73298:(e,n,t)=>{"use strict";t.d(n,{u:()=>m});var i=t(67294),a=t(77355),l=t(98913),o=t.n(l),r=t(14646),d=t(45932),c=function(e){var n=e.numPlaceholders,t=void 0===n?4:n,a=e.itemPlaceholder,l=(0,r.I)(),c=(0,d.P)();return i.createElement("div",{className:l((function(){return c}))},o()(t,(function(e){return i.createElement(a,{key:"placeholder-".concat(e)})})))},u=function(){return i.createElement(a.x,{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",width:"100%"},i.createElement(a.x,{width:"100%"},i.createElement(a.x,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px"},i.createElement(a.x,{height:"20px",width:"20px",backgroundColor:"BASE_NORMAL",borderRadius:"10px",marginRight:"8px"}),i.createElement(a.x,{height:"8px",width:"82px",backgroundColor:"BASE_NORMAL"})),i.createElement(a.x,{width:"80%",height:"16px",marginBottom:"12px",backgroundColor:"BASE_NORMAL"}),i.createElement(a.x,{width:"65%",height:"16px",marginBottom:"12px",backgroundColor:"BASE_NORMAL"})),i.createElement(a.x,{height:"133px",width:"200px",backgroundColor:"BASE_NORMAL"}))},m=function(e){var n=e.numPlaceholders,t=void 0===n?4:n;return i.createElement(c,{itemPlaceholder:u,numPlaceholders:t})}},77136:(e,n,t)=>{"use strict";t.d(n,{g:()=>r});var i=t(319),a=t.n(i),l=t(84683),o=t(19308),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionTooltip_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"subscriberCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}}]}}].concat(a()(l.d.definitions),a()(o.I.definitions))}},75210:(e,n,t)=>{"use strict";t.d(n,{L:()=>c});var i=t(67294),a=t(71652),l=t(82405),o=t(77355),r=t(20113),d=t(87691),c=function(e){var n=e.collection,t=e.buttonSize,c=e.buttonStyleFn,u=n.name,m=n.description;return i.createElement(o.x,{padding:"15px",display:"flex",flexDirection:"column",width:"300px"},i.createElement(o.x,{display:"flex",flexDirection:"row",justifyContent:"space-between",whiteSpace:"normal",borderBottom:"BASE_LIGHTER",paddingBottom:"10px",marginBottom:"10px"},i.createElement(o.x,{display:"flex",flexDirection:"column",paddingRight:"5px"},i.createElement(r.X6,{scale:"S"},u),i.createElement(d.F,{scale:"S"},m)),i.createElement(o.x,null,i.createElement(a.v,{collection:n,link:!0}))),i.createElement(o.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(d.F,{scale:"M"},"Followed by ",n.subscriberCount," people"),i.createElement(l.Fp,{collection:n,buttonSize:t,buttonStyleFn:c,susiEntry:"follow_card"})))}},32868:(e,n,t)=>{"use strict";t.d(n,{w:()=>d});var i=t(67294),a=t(20113),l=t(14646),o=function(e,n){return e?n.accentColor.text.dark:n.accentColor.text.normal},r=function(e){return function(n){return{marginRight:"8px",marginBottom:"1px",height:"8px",width:"8px",borderRadius:"50%",backgroundColor:o(e,n),flex:"none",display:"inline-block"}}},d=function(e){var n=e.darker,t=void 0!==n&&n,o=(0,l.I)();return i.createElement(a.X6,{scale:"XS"},i.createElement("span",{className:o(r(t))}),"What We’re Reading Today")}},16541:(e,n,t)=>{"use strict";t.d(n,{u:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityPresentationRankedModulePublishingTracker_entity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RankedModulePublishingEntity"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},75101:(e,n,t)=>{"use strict";t.d(n,{G:()=>r});var i=t(67294),a=t(5977),l=t(43487),o=t(78870),r=function(){var e=(0,a.TH)(),n=(0,l.v9)((function(e){return e.navigation.hostname}));return(0,i.useCallback)((function(t){return(0,o.z9)(t,n,e)}),[e,n])}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/HomePage.MainContent.f1ee8cd5.chunk.js.map